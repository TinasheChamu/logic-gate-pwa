<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Digital Logic Lab</title>
<style>
body {margin:0; font-family:Arial,sans-serif; background:#121212; color:#f0f0f0;}
header {width:100%; background:#0d47a1; text-align:center; font-size:1.8em; padding:15px 0; font-weight:bold;}
.tab-container {display:flex; justify-content:center; margin-top:15px; flex-wrap:wrap;}
.tab {padding:10px 20px; margin:2px; cursor:pointer; border-radius:5px 5px 0 0; background:#333;}
.tab.active {background:#0d47a1;}
.tab-content {display:none; background:#1e1e1e; padding:20px; border-radius:0 10px 10px 10px; max-width:800px; margin:0 auto 20px auto;}
.card {background:#222; border-radius:10px; padding:15px; margin-bottom:20px;}
.inputs {display:flex; justify-content:center; gap:10px; margin:10px 0;}
button {padding:10px 15px; border:none; border-radius:5px; background:#0d47a1; color:white; cursor:pointer; font-weight:bold;}
.led-container {display:flex; justify-content:center; gap:10px; margin:20px 0;}
.led {width:30px; height:30px; border-radius:50%; background:#333; box-shadow:inset 0 0 3px #000; position:relative;}
.led.on {background:lime; box-shadow:0 0 10px lime;}
.seven-segment {position:relative; width:60px; height:100px; display:inline-block; margin:10px;}
.segment {position:absolute; background:#333;}
.segment.on {background:red; box-shadow:0 0 6px red;}
.a {top:0; left:15px; width:30px; height:8px;}
.b {top:8px; right:0; width:8px; height:40px;}
.c {bottom:8px; right:0; width:8px; height:40px;}
.d {bottom:0; left:15px; width:30px; height:8px;}
.e {bottom:8px; left:0; width:8px; height:40px;}
.f {top:8px; left:0; width:8px; height:40px;}
.g {top:46px; left:15px; width:30px; height:8px;}
.output-panel {text-align:center; margin-top:10px; font-family: monospace;}
.truth-table {margin-top:15px; width:100%; border-collapse: collapse;}
.truth-table th, .truth-table td {border:1px solid #555; padding:5px; text-align:center;}
.truth-table th {background:#333;}
</style>
</head>
<body>

<header>Digital Logic Virtual Lab</header>

<div class="tab-container">
  <div class="tab active" data-tab="combinational">Combinational</div>
  <div class="tab" data-tab="sequential">Sequential</div>
</div>

<!-- Combinational -->
<div class="tab-content" id="combinational" style="display:block;">
  <div class="card">
    <h2>Select Gate Experiment</h2>
    <select id="gateSelect">
      <option value="AND">AND</option>
      <option value="OR">OR</option>
      <option value="XOR">XOR</option>
      <option value="NAND">NAND</option>
      <option value="NOT">NOT A</option>
    </select>
    <div class="inputs">
      <label>A <input type="checkbox" id="A"></label>
      <label>B <input type="checkbox" id="B"></label>
    </div>
    <button onclick="runCombinational()">Run</button>
  </div>

  <div class="card">
    <h2>Truth Table</h2>
    <table class="truth-table" id="truthTable">
      <thead><tr><th>A</th><th>B</th><th>OUT</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>

  <div class="card">
    <h2>LED Array</h2>
    <div id="ledContainer" class="led-container"></div>
  </div>

  <div class="card">
    <h2>7-Segment Display</h2>
    <div style="text-align:center;">
      <div class="seven-segment" id="seg"></div>
    </div>
    <div class="output-panel">
      <p id="binOut"></p>
      <p id="decOut"></p>
      <p id="hexOut"></p>
    </div>
  </div>
</div>

<script>
// Tabs
const tabs=document.querySelectorAll('.tab');
tabs.forEach(tab=>{
  tab.addEventListener('click',()=>{
    tabs.forEach(t=>t.classList.remove('active'));
    tab.classList.add('active');
    document.querySelectorAll('.tab-content').forEach(c=>c.style.display='none');
    document.getElementById(tab.getAttribute('data-tab')).style.display='block';
  });
});

// LEDs and 7-segment
function createLEDs(){
  const container=document.getElementById('ledContainer'); container.innerHTML='';
  for(let i=0;i<4;i++){
    const l=document.createElement('div'); l.classList.add('led'); l.setAttribute('data-bit',i); container.appendChild(l);
  }
}
createLEDs();

function createSegments(){
  const container=document.getElementById('seg'); container.innerHTML='';
  ['a','b','c','d','e','f','g'].forEach(seg=>{
    const s=document.createElement('div'); s.classList.add('segment',seg); container.appendChild(s);
  });
}
createSegments();

const digitMap={0:['a','b','c','d','e','f'],1:['b','c'],2:['a','b','g','e','d'],3:['a','b','g','c','d'],4:['f','g','b','c'],5:['a','f','g','c','d'],6:['a','f','g','e','c','d'],7:['a','b','c'],8:['a','b','c','d','e','f','g'],9:['a','b','c','d','f','g'],10:['a','b','c','e','f','g'],11:['f','e','g','c','d'],12:['a','f','e','d'],13:['b','c','g','e','d'],14:['a','f','g','e','d'],15:['a','f','g','e']};

function updateSegment(value){
  const segs=document.getElementById('seg').querySelectorAll('.segment'); segs.forEach(s=>s.classList.remove('on'));
  if(digitMap[value]) digitMap[value].forEach(s=>{
    const seg=document.getElementById('seg').querySelector('.'+s); if(seg) seg.classList.add('on');
  });
}

// Run Combinational
function runCombinational(){
  const gate=document.getElementById('gateSelect').value;
  const A=document.getElementById('A').checked?1:0;
  const B=document.getElementById('B').checked?1:0;
  let OUT=0;
  if(gate==='AND') OUT=A&B;
  else if(gate==='OR') OUT=A|B;
  else if(gate==='XOR') OUT=A^B;
  else if(gate==='NAND') OUT=(A&B)^1;
  else if(gate==='NOT') OUT=A^1;

  // Truth table
  const tbody=document.getElementById('truthTable').querySelector('tbody');
  tbody.innerHTML=`<tr><td>${A}</td><td>${B}</td><td>${OUT}</td></tr>`;

  // LEDs
  const leds=document.getElementById('ledContainer').querySelectorAll('.led');
  leds.forEach((l,i)=>i<1?(OUT?l.classList.add('on'):l.classList.remove('on')):l.classList.remove('on'));

  // 7-segment
  document.getElementById('binOut').textContent='Binary: '+OUT;
  document.getElementById('decOut').textContent='Decimal: '+OUT;
  document.getElementById('hexOut').textContent='Hex: '+OUT.toString(16).toUpperCase();
  updateSegment(OUT);
}
</script>

</body>
</html>
